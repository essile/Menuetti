@model IEnumerable<Menuetti.Models.Ingredientti>

@{
    ViewData["Title"] = "LoadJson";
}

<h2>LoadJson</h2>

<p>
    <a asp-action="Create">Create New</a>
</p>




<div id="scoped-content">
   


  
    <script>
        /* When the user clicks on the button,
        toggle between hiding and showing the dropdown content */
        function myFunction() {
            document.getElementById("myDropdown").classList.toggle("show");
            document.getElementById("myInput").focus();
        }


        function filterFunction() {
            var input, filter, ul, li, a, i;
            input = document.getElementById("myInput");
            filter = input.value.toUpperCase();
            div = document.getElementById("myDropdown");
            a = div.getElementsByTagName("a");
            for (i = 0; i < a.length; i++) {
                if (a[i].innerHTML.toUpperCase().indexOf(filter) > -1) {
                    a[i].style.display = "";
                } else {
                    a[i].style.display = "none";
                }
            }
        }

        function choiceFunction(name, units, unitmasses) {

            tulokset.push(name);
            console.log(name);
            unitFunction(units);
            
            console.log(unitmasses);


        }
        var tulokset = [];

        function unitFunction(d) {
            console.log(d);

        }
            ;


    </script>
    <style type="text/css" scoped>
        .dropbtn {
            background-color: #4CAF50;
            color: white;
            padding: 16px;
            font-size: 16px;
            border: none;
            cursor: pointer;
        }

            .dropbtn:hover, .dropbtn:focus {
                background-color: #3e8e41;
            }

        #myInput {
            border-box: box-sizing;
            
            background-position: 14px 12px;
            background-repeat: no-repeat;
            font-size: 16px;
            padding: 14px 20px 12px 45px;
            border: none;
            border-bottom: 1px solid #ddd;
        }

            #myInput:focus {
                outline: 3px solid #ddd;
            }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f6f6f6;
            min-width: 230px;
            overflow: auto;
            border: 1px solid #ddd;
            z-index: 1;
        }

            .dropdown-content a {
                color: black;
                padding: 12px 16px;
                text-decoration: none;
                display: block;
            }

        .dropdown a:hover {
            background-color: #ddd;
        }

        .show {
            display: block;
        }
    </style>





    <div class="dropdown">

        <button onclick="myFunction()" class="dropbtn">Lisää ainesosa</button> Terve
        <div id="myDropdown" class="dropdown-content">

            <input type="text" placeholder="Etsi.." id="myInput" onkeyup="filterFunction()" />

            @foreach (var item in Model)
            {
                <a onmouseup="choiceFunction('@item.name.fi','@("[ " + string.Join(",", item.units.Select(z=>z.description.fi)) + " ]" )','@("[ " + string.Join(",", item.units.Select(z=>z.mass)) + " ]" )')">@item.name.fi</a>

            }

        </div>
    </div>


</div>
